package apple_test

import (
	"github.com/xushuhui/apple"
	"testing"
)

func TestAuthClient_DecodeToken(t *testing.T) {
	var c = apple.NewAuthClient()
	t.Log(c.DecodeToken("eyJraWQiOiJXNldjT0tCIiwiYWxnIjoiUlMyNTYifQ.eyJpc3MiOiJodHRwczovL2FwcGxlaWQuYXBwbGUuY29tIiwiYXVkIjoiY29tLnNjeW91bGUuYmFsbHUzZCIsImV4cCI6MTY4MjU3MDMxOCwiaWF0IjoxNjgyNDgzOTE4LCJzdWIiOiIwMDEwOTIuYTg3MzU4NDA0ZjExNDUwMThjMTYxMmVkZWZkOTliN2QuMDU1MyIsImNfaGFzaCI6IjgtTWtQcDZPSlNrUjlvcnEzLVB0RWciLCJlbWFpbCI6Ijdzcnd4OWpidjRAcHJpdmF0ZXJlbGF5LmFwcGxlaWQuY29tIiwiZW1haWxfdmVyaWZpZWQiOiJ0cnVlIiwiaXNfcHJpdmF0ZV9lbWFpbCI6InRydWUiLCJhdXRoX3RpbWUiOjE2ODI0ODM5MTgsIm5vbmNlX3N1cHBvcnRlZCI6dHJ1ZX0.1jPI8zPVi4tqdW3rdDM67Jao6vGZSK3KdOk8mQlq_u21W6rrc9qQNKwi_rNnFWzHlpu6Z_ffU24zio9192jXSJeqPnixB-bqkH9PM5QfTja4XFsPzR9LVaQIPzwTrvVPPaz87vLXDi7YbjKoMLFbAvAVqvJcwbg0J9e0dDhcSUPPtnfkd0wymtzyBONBHqRls38vkUBwPSadddBvRDCXZP64bb_LEIdxvJWasO-G55QlmDI2QBfsIYaO99wUkVlsgRpyzuYVYpWRaKj3x-lnEDEbePK_M1eW1P_VH6vdMb1cRwvIhlayI9363U3tlljqKWbYfINLxE_sGUVfPDmvLw"))
}

func TestAuthClient_VerifyToken(t *testing.T) {
	var c = apple.NewAuthClient(apple.WithBundleId("com.scyoule.ballu3d"))
	t.Log(c.VerifyToken("eyJraWQiOiJXNldjT0tCIiwiYWxnIjoiUlMyNTYifQ.eyJpc3MiOiJodHRwczovL2FwcGxlaWQuYXBwbGUuY29tIiwiYXVkIjoiY29tLnNjeW91bGUuYmFsbHUzZCIsImV4cCI6MTY4MjU3MDMxOCwiaWF0IjoxNjgyNDgzOTE4LCJzdWIiOiIwMDEwOTIuYTg3MzU4NDA0ZjExNDUwMThjMTYxMmVkZWZkOTliN2QuMDU1MyIsImNfaGFzaCI6IjgtTWtQcDZPSlNrUjlvcnEzLVB0RWciLCJlbWFpbCI6Ijdzcnd4OWpidjRAcHJpdmF0ZXJlbGF5LmFwcGxlaWQuY29tIiwiZW1haWxfdmVyaWZpZWQiOiJ0cnVlIiwiaXNfcHJpdmF0ZV9lbWFpbCI6InRydWUiLCJhdXRoX3RpbWUiOjE2ODI0ODM5MTgsIm5vbmNlX3N1cHBvcnRlZCI6dHJ1ZX0.1jPI8zPVi4tqdW3rdDM67Jao6vGZSK3KdOk8mQlq_u21W6rrc9qQNKwi_rNnFWzHlpu6Z_ffU24zio9192jXSJeqPnixB-bqkH9PM5QfTja4XFsPzR9LVaQIPzwTrvVPPaz87vLXDi7YbjKoMLFbAvAVqvJcwbg0J9e0dDhcSUPPtnfkd0wymtzyBONBHqRls38vkUBwPSadddBvRDCXZP64bb_LEIdxvJWasO-G55QlmDI2QBfsIYaO99wUkVlsgRpyzuYVYpWRaKj3x-lnEDEbePK_M1eW1P_VH6vdMb1cRwvIhlayI9363U3tlljqKWbYfINLxE_sGUVfPDmvLw"))
}
